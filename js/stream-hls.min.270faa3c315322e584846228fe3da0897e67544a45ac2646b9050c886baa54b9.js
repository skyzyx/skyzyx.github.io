(()=>{'use strict';if(Hls.isSupported()){let selector="video source[type='application/vnd.apple.mpegurl']",videoSources=document.querySelectorAll(selector);videoSources.forEach(videoSource=>{let m3u8=videoSource.src,once=false;let oldVideo=videoSource.parentNode,newVideo=oldVideo.cloneNode(false);oldVideo.parentNode.replaceChild(newVideo,oldVideo);newVideo.addEventListener('play',()=>{if(once){return;};once=true;var hls=new Hls({capLevelToPlayerSize:false});hls.attachMedia(newVideo);hls.loadSource(m3u8);hls.on(Hls.Events.MANIFEST_PARSED,(event,data)=>{newVideo.play();});},false);});}})();